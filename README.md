# Cognitoken-Verifier
A class implementation to simplify the validation process of JWT generated by AWS Cognito as prescribed in https://docs.aws.amazon.com/cognito/latest/developerguide/amazon-cognito-user-pools-using-tokens-verifying-a-jwt.html

# Install
```bash
npm install cognitoken-verifier
```

# Usage
```javascript
const { CognitokenVerifier } = require('cognitoken-verifier');

// Parameters for CognitoVerifier class
const appClientId = '<Enter app client Id of User Pool>';
const issuer = 'https://cognito-idp.<REGION>.amazonaws.com/<USERPOOLID>';
const RSAMap = [
    {
        key:'<KID of the first public key>',
        buffer: '<Buffer of first JSON Web Token in pem format>'// use jwk-to-pem
    },
    {
        key:'<KID of the second public key>',
        buffer: 'Buffer of second JSON Web Token in pem format>'// use jwk-to-pem
    }
];

const verifier = new CognitokenVerifier(appClientId, issuer, RSAMap);

verifier.verify('<Token>', '<id/access>')
    .then(payload=>{
        //Verification Success
    })
    .catch(err=>{
        // Verification Fail
        // returns CognitokenError class
    })
```